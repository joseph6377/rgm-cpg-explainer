import React, { useState } from 'react';\nimport { motion } from 'framer-motion';\nimport { useInView } from 'react-intersection-observer';\nimport { FaQuoteLeft, FaQuoteRight, FaArrowRight, FaArrowLeft } from 'react-icons/fa';\nimport './CaseStudies.css';\n\nconst CaseStudies = () => {\n  const [currentCase, setCurrentCase] = useState(0);\n  const [ref, inView] = useInView({\n    threshold: 0.2,\n    triggerOnce: true,\n  });\n\n  const caseStudies = [\n    {\n      id: 1,\n      title: 'Global Beverage Company',\n      industry: 'Beverages',\n      challenge: 'Facing declining margins due to price competition and increasing promotional costs.',\n      solution: 'Implemented RGM strategy focused on pricing optimization and trade spend effectiveness across multiple markets.',\n      results: 'Improved demand forecasting accuracy by 25%, reduced promotional spending by 15%, and increased overall margins by 4.5%.',\n      image: 'https://images.unsplash.com/photo-1527281400683-1aae777175f8?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1740&q=80',\n    },\n    {\n      id: 2,\n      title: 'Leading Snack Manufacturer',\n      industry: 'Food & Snacks',\n      challenge: 'Struggling with SKU proliferation and inconsistent pricing across retail channels.',\n      solution: 'Developed comprehensive assortment optimization and channel-specific pricing strategies through advanced analytics.',\n      results: 'Achieved 12% sales growth through optimized assortment, improved ROAS by 30%, and enhanced contribution margins by 3.8%.',\n      image: 'https://images.unsplash.com/photo-1621939514649-280e2ee25f60?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1740&q=80',\n    },\n    {\n      id: 3,\n      title: 'Personal Care Products Company',\n      industry: 'Personal Care',\n      challenge: 'Needed to optimize pricing and promotions in a highly competitive market with price-sensitive consumers.',\n      solution: 'Implemented AI-driven pricing and customer segmentation to create personalized promotional strategies.',\n      results: 'Enhanced digital promotion effectiveness by 22%, increased customer retention by 18%, and boosted quarterly revenue by 8.5%.',\n      image: 'https://images.unsplash.com/photo-1556228578-8c89e6adf883?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1740&q=80',\n    },\n  ];\n\n  const nextCase = () => {\n    setCurrentCase((prev) => (prev === caseStudies.length - 1 ? 0 : prev + 1));\n  };\n\n  const prevCase = () => {\n    setCurrentCase((prev) => (prev === 0 ? caseStudies.length - 1 : prev - 1));\n  };\n\n  const containerVariants = {\n    hidden: { opacity: 0 },\n    visible: {\n      opacity: 1,\n      transition: {\n        staggerChildren: 0.2,\n      },\n    },\n  };\n\n  const itemVariants = {\n    hidden: { y: 20, opacity: 0 },\n    visible: {\n      y: 0,\n      opacity: 1,\n      transition: {\n        duration: 0.5,\n      },\n    },\n  };\n\n  return (\n    <section className=\"case-studies\" id=\"case-studies\" ref={ref}>\n      <div className=\"container\">\n        <motion.h2 \n          className=\"section-title\"\n          initial={{ opacity: 0, y: 20 }}\n          animate={inView ? { opacity: 1, y: 0 } : { opacity: 0, y: 20 }}\n          transition={{ duration: 0.5 }}\n        >\n          Success Stories\n        </motion.h2>\n        \n        <motion.p \n          className=\"case-studies-subtitle\"\n          initial={{ opacity: 0, y: 20 }}\n          animate={inView ? { opacity: 1, y: 0 } : { opacity: 0, y: 20 }}\n          transition={{ duration: 0.5, delay: 0.2 }}\n        >\n          Real-world examples of how RGM has transformed business outcomes for CPG companies\n        </motion.p>\n        \n        <motion.div \n          className=\"case-studies-slider\"\n          variants={containerVariants}\n          initial=\"hidden\"\n          animate={inView ? \"visible\" : \"hidden\"}\n        >\n          <motion.div className=\"case-card\" variants={itemVariants}>\n            <div className=\"case-content\">\n              <h3 className=\"case-title\">{caseStudies[currentCase].title}</h3>\n              <div className=\"case-industry\">{caseStudies[currentCase].industry}</div>\n              \n              <div className=\"case-detail\">\n                <h4>Challenge:</h4>\n                <p>{caseStudies[currentCase].challenge}</p>\n              </div>\n              \n              <div className=\"case-detail\">\n                <h4>Solution:</h4>\n                <p>{caseStudies[currentCase].solution}</p>\n              </div>\n              \n              <div className=\"case-results\">\n                <FaQuoteLeft className=\"quote-icon left\" />\n                <p>{caseStudies[currentCase].results}</p>\n                <FaQuoteRight className=\"quote-icon right\" />\n              </div>\n            </div>\n            \n            <div className=\"case-image\">\n              <img \n                src={caseStudies[currentCase].image} \n                alt={`${caseStudies[currentCase].title} case study`} \n              />\n            </div>\n          </motion.div>\n          \n          <div className=\"case-navigation\">\n            <button className=\"nav-button prev\" onClick={prevCase}>\n              <FaArrowLeft />\n            </button>\n            \n            <div className=\"case-indicators\">\n              {caseStudies.map((_, index) => (\n                <button \n                  key={index} \n                  className={`indicator ${index === currentCase ? 'active' : ''}`}\n                  onClick={() => setCurrentCase(index)}\n                />\n              ))}\n            </div>\n            \n            <button className=\"nav-button next\" onClick={nextCase}>\n              <FaArrowRight />\n            </button>\n          </div>\n        </motion.div>\n      </div>\n    </section>\n  );\n};\n\nexport default CaseStudies;